<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:dtos="clr-namespace:MauiUltimateTemplate.Application.DTOs;assembly=MauiUltimateTemplate.Application"
    xmlns:viewModels="clr-namespace:MauiUltimateTemplate.Application.UI.ViewModels;assembly=MauiUltimateTemplate.Application.UI"
    x:DataType="viewModels:MainViewModel"
    x:Class="MauiUltimateTemplate.MainPage">
    <Grid
        RowDefinitions="*, Auto"
        Padding="20">

        <!-- Список заметок -->
        <CollectionView
            ItemsSource="{Binding Notes}"
            Grid.Row="0">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <VerticalStackLayout
                        x:DataType="dtos:NoteDto"
                        Padding="10">
                        <HorizontalStackLayout
                            Spacing="40">
                            <Label
                                Text="{Binding Title}"
                                FontAttributes="Bold"
                                FontSize="18" />
                            <Label
                                Text="{Binding CreatedAt}"
                                VerticalOptions="End"/>
                        </HorizontalStackLayout>
                        <Label
                            Text="{Binding Summary}"
                            FontSize="14"
                            TextColor="Gray" />
                    </VerticalStackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Кнопка добавления -->
        <Button
            Grid.Row="1"
            Text="Добавить заметку"
            Command="{Binding AddNoteCommand}"
            Margin="0,10,0,0" />
    </Grid>

</ContentPage>